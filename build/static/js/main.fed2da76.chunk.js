(this.webpackJsonppuhelinluettelo2=this.webpackJsonppuhelinluettelo2||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(14),o=n.n(c),r=n(3),u=n(4),s=n.n(u),l=n(0),i=function(e){var t=e.handleNameChange,n=e.handleNumberChange,a=e.addName,c=e.newName,o=e.newNumber;return Object(l.jsxs)("form",{onSubmit:a,children:[Object(l.jsxs)("div",{children:["name: ",Object(l.jsx)("input",{value:c,onChange:t})]}),Object(l.jsxs)("div",{children:["number: ",Object(l.jsx)("input",{value:o,onChange:n})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"submit",children:"add"})})]})},d=function(e){var t=e.handleSearch,n=e.search;return Object(l.jsxs)("div",{children:["search",Object(l.jsx)("input",{value:n,onChange:t})]})},j=function(e){var t=e.personsToShow,n=e.deletePerson;return Object(l.jsx)("ul",{children:t.map((function(e){return Object(l.jsxs)("li",{children:[e.name,": ",e.number," ",Object(l.jsx)("button",{onClick:function(){return n(e.id)},children:"delete"})," "]},e.id)}))})},b=function(e){var t=e.message;return null===t?null:Object(l.jsx)("div",{className:"message",children:t})},h=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),u=Object(r.a)(o,2),h=u[0],m=u[1],O=Object(a.useState)(""),f=Object(r.a)(O,2),g=f[0],v=f[1],p=Object(a.useState)(""),x=Object(r.a)(p,2),w=x[0],N=x[1],S=Object(a.useState)(""),C=Object(r.a)(S,2),k=C[0],y=C[1],P=Object(a.useState)(""),T=Object(r.a)(P,2),D=T[0],E=T[1],J="https://mysterious-harbor-75119.herokuapp.com/api/persons/";Object(a.useEffect)((function(){s.a.get(J).then((function(e){c(e.data),m(e.data),console.log("data loaded",e.data)}))}),[]);return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Phonebook"}),Object(l.jsx)(d,{handleSearch:function(e){var t=e.target.value.toLowerCase();console.log(t),y(t),m(n.filter((function(e){return e.name.toLowerCase().includes(t)})))},search:k}),Object(l.jsx)(i,{handleNameChange:function(e){console.log(e.target.value),y(""),v(e.target.value)},handleNumberChange:function(e){console.log(e.target.value),y(""),N(e.target.value)},addName:function(e){e.preventDefault();var t={name:g,number:w};n.map((function(e){return e.number})).includes(w)?window.alert(w+" is already on phonebook"):s.a.post(J,t).then((function(e){console.log(e),c(n.concat(e.data)),m(n.concat(e.data))})),v(""),N(""),E(t.name+" added"),setTimeout((function(){E(null)}),5e3)},newName:g,newNumber:w}),Object(l.jsx)(b,{message:D}),Object(l.jsx)("h2",{children:"Numbers"}),Object(l.jsx)(j,{personsToShow:h,deletePerson:function(e){console.log("delete",e);var t=n.filter((function(t){return t.id===e}))[0].name;window.confirm("Do you really want to delete "+t)&&s.a.delete(J+e).then((function(t){console.log(t),c(n.filter((function(t){return t.id!==Number(e)}))),m(n.filter((function(t){return t.id!==Number(e)})))}))}})]})};n(38);o.a.render(Object(l.jsx)(h,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.fed2da76.chunk.js.map