(this.webpackJsonppuhelinluettelo2=this.webpackJsonppuhelinluettelo2||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(1),c=t(14),o=t.n(c),r=t(3),u=t(4),l=t.n(u),s=t(0),i=function(e){var n=e.handleNameChange,t=e.handleNumberChange,a=e.addName,c=e.newName,o=e.newNumber;return Object(s.jsxs)("form",{onSubmit:a,children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{value:c,onChange:n})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{value:o,onChange:t})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})},d=function(e){var n=e.handleSearch,t=e.search;return Object(s.jsxs)("div",{children:["search",Object(s.jsx)("input",{value:t,onChange:n})]})},j=function(e){var n=e.personsToShow,t=e.deletePerson;return Object(s.jsx)("ul",{children:n.map((function(e){return Object(s.jsxs)("li",{children:[e.name,": ",e.number," ",Object(s.jsx)("button",{onClick:function(){return t(e.id)},children:"delete"})," "]},e.id)}))})},b=function(e){var n=e.message;return null===n?null:Object(s.jsx)("div",{className:"message",children:n})},h=function(){var e=Object(a.useState)([]),n=Object(r.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)([]),u=Object(r.a)(o,2),h=u[0],m=u[1],O=Object(a.useState)(""),f=Object(r.a)(O,2),g=f[0],v=f[1],x=Object(a.useState)(""),p=Object(r.a)(x,2),w=p[0],N=p[1],S=Object(a.useState)(""),C=Object(r.a)(S,2),k=C[0],y=C[1],P=Object(a.useState)(""),T=Object(r.a)(P,2),D=T[0],E=T[1],J="/api/persons/";Object(a.useEffect)((function(){l.a.get(J).then((function(e){c(e.data),m(e.data),console.log("data loaded",e.data)}))}),[]);return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Phonebook"}),Object(s.jsx)(d,{handleSearch:function(e){var n=e.target.value.toLowerCase();console.log(n),y(n),m(t.filter((function(e){return e.name.toLowerCase().includes(n)})))},search:k}),Object(s.jsx)(i,{handleNameChange:function(e){console.log(e.target.value),y(""),v(e.target.value)},handleNumberChange:function(e){console.log(e.target.value),y(""),N(e.target.value)},addName:function(e){e.preventDefault();var n={name:g,number:w};t.map((function(e){return e.number})).includes(w)?window.alert(w+" is already on phonebook"):l.a.post(J,n).then((function(e){console.log(e),c(t.concat(e.data)),m(t.concat(e.data))})),v(""),N(""),E(n.name+" added"),setTimeout((function(){E(null)}),5e3)},newName:g,newNumber:w}),Object(s.jsx)(b,{message:D}),Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)(j,{personsToShow:h,deletePerson:function(e){console.log("delete",e);var n=t.filter((function(n){return n.id===e}))[0].name;window.confirm("Do you really want to delete "+n)&&l.a.delete(J+e).then((function(n){console.log(n),c(t.filter((function(n){return n.id!==Number(e)}))),m(t.filter((function(n){return n.id!==Number(e)})))}))}})]})};t(38);o.a.render(Object(s.jsx)(h,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.4b50f549.chunk.js.map