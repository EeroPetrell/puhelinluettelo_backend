{"version":3,"sources":["components/AddNewForm.js","components/Search.js","components/Numbers.js","components/Notification.js","App.js","index.js"],"names":["AddNewForm","handleNameChange","handleNumberChange","addName","newName","newNumber","onSubmit","value","onChange","type","Search","handleSearch","search","Numbers","personsToShow","deletePerson","map","person","name","number","onClick","id","Notification","message","className","App","useState","persons","setPersons","setPersonsToShow","setNewName","setNewNumber","setSearch","setMessage","baseUrl","useEffect","axios","get","then","response","data","console","log","event","target","toLowerCase","filter","includes","preventDefault","newPerson","window","alert","post","concat","setTimeout","deletesName","confirm","delete","Number","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4b50f549.chunk.js","sourcesContent":["import React from 'react'\n\nconst AddNewForm = ({ handleNameChange, handleNumberChange, addName, newName, newNumber }) => {\n    return (\n        <form onSubmit={addName}>\n            <div>name: <input value={newName} onChange={handleNameChange}/></div>\n            <div>number: <input value={newNumber} onChange={handleNumberChange} /></div>\n            <div><button type=\"submit\">add</button></div>\n        </form>\n    )\n}\n\nexport default AddNewForm","import React from 'react'\n\nconst Search = ({ handleSearch, search }) => {\n    return (\n        <div>\n            search<input value={search} onChange={handleSearch} />\n        </div>\n    )\n}\n\nexport default Search","import React from 'react'\n\nconst Numbers = ({ personsToShow, deletePerson }) => {\n\n    return (\n        <ul>\n            {personsToShow.map( person => <li key={person.id}>{person.name}: {person.number} <button onClick={() => deletePerson(person.id)}>delete</button> </li>)}\n        </ul>\n    )\n}\n\nexport default Numbers","import React from 'react'\n\nconst Notification = ({message}) => {\n\n    if (message === null) {\n        return null\n    } else {\n        return (\n            <div className='message'>\n                {message}\n            </div>\n        )\n    }\n}\n\nexport default Notification","import React, { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport AddNewForm from './components/AddNewForm'\nimport Search from './components/Search'\nimport Numbers from './components/Numbers'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n\n    const [ persons, setPersons ] = useState([])\n    const [ personsToShow, setPersonsToShow ] = useState([])\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n    const [ search, setSearch ] = useState('')\n    const [ message, setMessage ] = useState('')\n\n    const baseUrl  = '/api/persons/'\n    const loadData = () => {\n        axios\n            .get(baseUrl)\n            .then(response => {\n                setPersons(response.data)\n                setPersonsToShow(response.data)\n                console.log('data loaded', response.data)\n            })\n    }\n\n    useEffect(loadData, [])\n\n    const addName = (event) => {\n        event.preventDefault()\n        const newPerson = {\n            name: newName,\n            number: newNumber\n        }\n        if (persons.map(person=>person.number).includes(newNumber)) \n            window.alert(newNumber + ' is already on phonebook')\n        else {\n            axios\n                .post(baseUrl, newPerson)\n                .then(response => {\n                    console.log(response)\n                    setPersons(persons.concat(response.data))\n                    setPersonsToShow(persons.concat(response.data))\n                })\n        }\n        setNewName('')\n        setNewNumber('')\n        setMessage(newPerson.name + ' added')\n        setTimeout(() => {\n            setMessage(null)\n        }, 5000)\n    }\n\n    const deletePerson = (id) => {\n        console.log('delete', id)\n        const deletesName = persons.filter(person => person.id === id)[0].name\n        if (window.confirm('Do you really want to delete ' + deletesName)) {\n            axios\n            .delete(baseUrl + id)\n            .then(response => {\n                console.log(response)\n                setPersons(persons.filter(person => person.id !== Number(id)))\n                setPersonsToShow(persons.filter(person => person.id !== Number(id)))\n            })\n        }\n    }\n\n    const handleNameChange = (event) => {\n        console.log(event.target.value)\n        setSearch('')\n        setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n        console.log(event.target.value)\n        setSearch('')\n        setNewNumber(event.target.value)\n    }\n\n    const handleSearch = (event) => {\n        const search = event.target.value.toLowerCase()\n        console.log(search)\n        setSearch(search)\n        setPersonsToShow(persons.filter( person => person.name.toLowerCase().includes(search)))\n    }\n\n    return (\n        <div>\n            <h1>Phonebook</h1>\n\n            <Search handleSearch={handleSearch} search={search} />\n            \n            <AddNewForm handleNameChange={handleNameChange} \n                handleNumberChange={handleNumberChange} \n                addName={addName} newName={newName} newNumber={newNumber} />\n            \n            <Notification message={message} />\n\n            <h2>Numbers</h2>\n            \n            <Numbers personsToShow={personsToShow} deletePerson={deletePerson} /> \n\n        </div>\n    )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n)\n"],"sourceRoot":""}